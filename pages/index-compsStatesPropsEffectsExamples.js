import Head from 'next/head'
import Image from 'next/image'
import React, { useState, useEffect } from 'react';    // useState is a React Hook
import styles from '../styles/Home.module.css'


//const ArrowFunction = _ => <><h1>Arrow</h1></>
  


function CompA({ myCount, myObj, myFunc, myBool, myNum }){

  useEffect(() => {
    console.log("CompA: Use effect");
  }, [myCount])

  console.log("p1: ",myCount);

  return(
    <React.Fragment>
      <hr />
      <p>Hello Comp A</p>
      <div>myCount: {myCount}</div>
      <div>myObj.a: {myObj.a}</div>
      <div>myFunc result: {myFunc()}</div>
      <div>myBool: {myBool.toString()}</div>
      <div>myNum: {myNum}</div>
    </React.Fragment>
  )
}

class CompC extends React.Component {

  constructor(){
    super();
    this.state = {
      stateName: "stateValue"
    }
  }

  render() {

    const { myCount, myComponent: MyComponent, compA: CompA } = this.props;
    return (
      <>
        <hr />
        <p>Hello Comp AC</p>
        <p>Count: {myCount}</p>
        <MyComponent />
        <CompA />
      </>
    )
  }
}


function MyComponent(){
  return (
    <>
      <hr />
      <p>Hello My Component</p>
    </>
  )
}


// export default function Home() {
function Home () {

  const [count, setCount] = useState(10);
  const [count2, setCount2] = useState(10);

  useEffect(() => {
    console.log("Home: Use effect");
  }, [count, count2])

  return (
    <div className={styles.container}>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <>
        Current Value: <h1>{ count }</h1>
        <button onClick={() => setCount(count+1)}>+</button>
        <button onClick={() => setCount(count-1)}>-</button>
      </>

      <main className={styles.main}>
        <h1 className={styles.title}>
          Welcome to <a href="https://nextjs.org">Next.js!</a>
        </h1>
        {/* <CompA 
          myCount={count}
          myObj={{a: "1"}}
          myFunc={() => <span>Yay</span>}
          myBool={false}
          myNum={5}
        /> */}

        <CompC 
          myCount={count}
          myComponent={MyComponent}
          compA={
            () =>
              <CompA
                myCount={count}
                myObj={{a: "1"}}
                myFunc={() => <span>Yay</span>}
                myBool={false}
                myNum={5}
              />
          }
        />
      </main>

      <footer className={styles.footer}>
        <a
          href="https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app"
          target="_blank"
          rel="noopener noreferrer"
        >
          Powered by{' '}
          <span className={styles.logo}>
            <Image src="/vercel.svg" alt="Vercel Logo" width={72} height={16} />
          </span>
        </a>
      </footer>
    </div>
  )

}
export default Home;